@using Microsoft.AspNetCore.Components.Forms
@using MudBlazor
@using ScrumMaster.Models
@using static ScrumMaster.Models.UserDetails

<EditForm Model="@User" OnValidSubmit="OnValidSubmitAsync">
    <DataAnnotationsValidator />

    <MudDialog Style="width:450px;">
        <DialogContent>
            <MudText Typo="Typo.h6">@DialogTitle</MudText>

            <MudTextField T="string"
                          @bind-Value="User.UserName"
                          Label="User Name"
                          Required="true"
                          For="@(() => User.UserName)" />

            <MudTextField T="string"
                          @bind-Value="User.Email"
                          Label="Email"
                          Required="true"
                          For="@(() => User.Email)" />

            <MudSelect T="TUserRole"
                       @bind-Value="User.Role"
                       Label="Role"
                       Required="true"
                       For="@(() => User.Role)">
                <MudSelectItem Value="TUserRole.Admin">Admin</MudSelectItem>
                <MudSelectItem Value="TUserRole.User">User</MudSelectItem>
            </MudSelect>
        </DialogContent>

        <DialogActions>
            <MudButton Color="Color.Primary"
                       Variant="Variant.Outlined"
                       OnClick="Cancel">
                Cancel
            </MudButton>
            <MudButton Color="Color.Primary"
                       Variant="Variant.Filled"
                       ButtonType="ButtonType.Submit">
                Save
            </MudButton>
        </DialogActions>
    </MudDialog>
</EditForm>
