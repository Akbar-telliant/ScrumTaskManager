@using MudBlazor
@inject IDialogService DialogService


@page "/admin/user-management"

<MudContainer>
    <MudStack Spacing="2" Class="pa-4">
        <MudText Typo="Typo.h4" Color="Color.Primary">User Management</MudText>
        <MudText Typo="Typo.subtitle1">Manage users, roles, and permissions.</MudText>        
        <MudIconButton Style="width:40px;" Size="Size.Small" Color="Color.Primary" Variant="Variant.Filled" Icon="@Icons.Material.Rounded.Add" OnClick="AddUser" />
        <MudTable Items="@users" Hover="true" Striped="true" Dense="true">
            <HeaderContent>
                <MudTh>User Name</MudTh>
                <MudTh>Email</MudTh>
                <MudTh>Role</MudTh>
                <MudTh></MudTh>
            </HeaderContent>
            <RowTemplate>
                <MudTd DataLabel="User Name">@context.UserName</MudTd>
                <MudTd DataLabel="Email">@context.Email</MudTd>
                <MudTd DataLabel="Role">@context.Role</MudTd>
                <MudTd DataLabel="Actions">
                    <MudButton Variant="Variant.Text" Color="Color.Primary" OnClick="@(() => EditUser(@context))">Edit</MudButton>
                    <MudButton Variant="Variant.Text" Color="Color.Error" OnClick="@(() => DeleteUser(@context))">Delete</MudButton>
                </MudTd>
            </RowTemplate>
            <PagerContent>
                <MudTablePager />
            </PagerContent>
        </MudTable>
    </MudStack>
</MudContainer>